<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 35.1.0">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>MathML Accessibility API Mappings 1.0</title>
    
    
    
    
<link href="../common/css/mapping-tables.css" rel="stylesheet" type="text/css">
    
<link href="../common/css/common.css" rel="stylesheet" type="text/css">
    
  
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"ยง";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="color-scheme" content="light">
<meta name="description" content="The MathML Accessibility API Mappings (MathML-AAM) specification defines how user agents map Mathematical Markup Language (MathML) [MathML3] to platform accessibility APIs. It
        extends the Core Accessibility API Mappings (CORE-AAM) specification [CORE-AAM-1.2].">
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "github": "w3c/mathml-aam",
  "doJsonLd": true,
  "lint": true,
  "specStatus": "ED",
  "shortName": "mathml-aam-1.0",
  "edDraftURI": "https://w3c.github.io/mathml-aam/",
  "copyrightStart": "2020",
  "group": "aria",
  "editors": [
    {
      "name": "James Nurthen",
      "company": "Adobe",
      "companyURL": "https://www.adobe.com/",
      "w3cid": 37155
    },
    {
      "name": "Neil Soiffer",
      "company": "Invited Expert",
      "w3cid": 35698
    }
  ],
  "formerEditors": [
    {
      "name": "Joanmarie Diggs",
      "company": "Igalia, S.L.",
      "companyURL": "https://www.igalia.com",
      "w3cid": 68182,
      "note": "Editor until August 2023"
    },
    {
      "name": "Alexander Surkov",
      "company": "Igalia, S.L.",
      "companyURL": "https://www.igalia.com",
      "w3cid": 51089,
      "note": "Editor until August 2023"
    },
    {
      "name": "Michael Cooper",
      "company": "W3C",
      "companyURL": "https://www.w3.org",
      "note": "Editor until August 2023"
    }
  ],
  "ariaSpecURLs": {
    "ED": "https://w3c.github.io/aria/",
    "WD": "https://w3c.github.io/aria/",
    "CR": "https://w3c.github.io/aria/",
    "PR": "https://www.w3.org/TR/wai-aria-1.1/",
    "REC": "https://www.w3.org/TR/wai-aria/"
  },
  "coreMappingURLs": {
    "ED": "https://w3c.github.io/core-aam/",
    "CR": "https://w3c.github.io/core-aam/",
    "WD": "https://w3c.github.io/core-aam/",
    "FPWD": "https://www.w3.org/TR/core-aam-1.1/",
    "REC": "https://www.w3.org/TR/wai-aria-implementation/"
  },
  "preProcess": [
    null
  ],
  "postProcess": [],
  "definitionMap": [],
  "xref": [
    "dom",
    "core-aam",
    "accname",
    "wai-aria",
    "infra"
  ],
  "publishISODate": "2024-06-15T00:00:00.000Z",
  "generatedSubtitle": "W3C Editor's Draft 15 June 2024"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED"></head>

  <body class="h-entry" data-cite="dom core-aam accname wai-aria infra"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">MathML Accessibility API Mappings 1.0</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">W3C Editor's Draft</a> <time class="dt-published" datetime="2024-06-15">15 June 2024</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://w3c.github.io/mathml-aam/">https://w3c.github.io/mathml-aam/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/mathml-aam-1.0/">https://www.w3.org/TR/mathml-aam-1.0/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/mathml-aam/">https://w3c.github.io/mathml-aam/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://github.com/w3c/mathml-aam/commits/">Commit history</a>
                  </dd>
        
        
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="37155">
    <span class="p-name fn">James Nurthen</span> (<a class="p-org org h-org" href="https://www.adobe.com/">Adobe</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="35698">
    <span class="p-name fn">Neil Soiffer</span> (<span class="p-org org h-org">Invited Expert</span>)
  </dd>
        <dt>
                Former editors:
              </dt><dd class="editor p-author h-card vcard" data-editor-id="68182">
    <span class="p-name fn">Joanmarie Diggs</span> (<a class="p-org org h-org" href="https://www.igalia.com">Igalia, S.L.</a>) (Editor until August 2023)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="51089">
    <span class="p-name fn">Alexander Surkov</span> (<a class="p-org org h-org" href="https://www.igalia.com">Igalia, S.L.</a>) (Editor until August 2023)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Michael Cooper</span> (<a class="p-org org h-org" href="https://www.w3.org">W3C</a>) (Editor until August 2023)
  </dd>
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/mathml-aam/">GitHub w3c/mathml-aam</a>
        (<a href="https://github.com/w3c/mathml-aam/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/mathml-aam/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/mathml-aam/issues/">open issues</a>)
      </dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">
    <a href="https://www.w3.org/policies/#copyright">Copyright</a>
    ยฉ
    2020-2024
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>ยฎ</sup>
    <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/copyright/software-license-2023/" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>
        The MathML Accessibility <abbr title="application programming interface">API</abbr> Mappings (MathML-AAM) specification defines how <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">user agents</a> map Mathematical Markup Language (MathML) [<cite><a class="bibref" data-link-type="biblio" href="#bib-mathml3" title="Mathematical Markup Language (MathML) Version 3.0 2nd Edition">MathML3</a></cite>] to platform <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessibility-api">accessibility APIs</a>. It
        extends the Core Accessibility <abbr title="application programming interface">API</abbr> Mappings (CORE-AAM) specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.2" title="Core Accessibility API Mappings 1.2">CORE-AAM-1.2</a></cite>].
      </p>
      <p>
        This specification is intended for user agent developers responsible for MathML accessibility in their product. The goal of this specification is to maximize the accessibility of MathML
        content by ensuring each <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-assistive-technologies">assistive technology</a> receives MathML content with the <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-role">roles</a>, <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-state">states</a>, and <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-property">properties</a> it expects.
      </p>
      <p>
        At the present time, this specification contains mappings for the subset of MathML contained in the MathML Core specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-mathml-core" title="MathML Core">MathML-Core</a></cite>]. The reason why is that this subset contains the
        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-element">elements</a> and <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-attribute">attributes</a> from MathML which are exposed to <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-assistive-technologies">assistive technologies</a> via platform <a data-type="dfn" href="https://www.w3.org/TR/wai-aria/#dfn-accessibility-api">accessibility APIs</a>.
      </p>
      <p>
        The MathML-AAM is part of the <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> suite described in the <a href="http://www.w3.org/WAI/intro/aria.php"><abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Overview</a>.
      </p>
    </section>
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
      <p>This document is a work in progress.</p>
      <p>
        To provide feedback, please <a href="https://github.com/w3c/mathml-aam/issues/">create or comment on an issue</a> in the <abbr title="World Wide Web Consortium">W3C</abbr> MathML Accessibility
        <abbr title="application programming interface">API</abbr> Mappings GitHub repository. If this is not feasible, send email to <a href="mailto:public-aria@w3.org?subject=MathML-AAM%20public%20comment">public-aria@w3.org</a>.
      </p>
    <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/aria">Accessible Rich Internet Applications Working Group</a> as
    an Editor's Draft. 
  </p><p>Publication as an Editor's Draft does not
  imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p><p>
    This is a draft document and may be updated, replaced or obsoleted by other
    documents at any time. It is inappropriate to cite this document as other
    than work in progress.
    
  </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/aria/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                      This document is governed by the
                      <a id="w3c_process_revision" href="https://www.w3.org/2023/Process-20231103/">03 November 2023 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                    </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#deprecated"><bdi class="secno">2.1 </bdi>Deprecated</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mapping-mathml-to-accessibility-apis"><bdi class="secno">3. </bdi>Mapping MathML to Accessibility APIs</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#mapping_general"><bdi class="secno">3.1 </bdi>General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</a></li><li class="tocline"><a class="tocxref" href="#mapping_conflicts"><bdi class="secno">3.2 </bdi>Conflicts between native semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></a></li><li class="tocline"><a class="tocxref" href="#mapping_nodirect"><bdi class="secno">3.3 </bdi>Exposing features that do not directly map to accessibility <abbr title="application programming interface">API</abbr></a></li><li class="tocline"><a class="tocxref" href="#mathml-element-mappings"><bdi class="secno">3.4 </bdi>MathML Element Mappings</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#el-annotation"><bdi class="secno">3.4.1 </bdi><code>annotation</code></a></li><li class="tocline"><a class="tocxref" href="#el-annotation-xml"><bdi class="secno">3.4.2 </bdi><code>annotation-xml</code></a></li><li class="tocline"><a class="tocxref" href="#el-maction"><bdi class="secno">3.4.3 </bdi><code>maction</code></a></li><li class="tocline"><a class="tocxref" href="#el-math"><bdi class="secno">3.4.4 </bdi><code>math</code></a></li><li class="tocline"><a class="tocxref" href="#el-merror"><bdi class="secno">3.4.5 </bdi><code>merror</code></a></li><li class="tocline"><a class="tocxref" href="#el-mfrac"><bdi class="secno">3.4.6 </bdi><code>mfrac</code></a></li><li class="tocline"><a class="tocxref" href="#el-mi"><bdi class="secno">3.4.7 </bdi><code>mi</code></a></li><li class="tocline"><a class="tocxref" href="#el-mmultiscripts"><bdi class="secno">3.4.8 </bdi><code>mmultiscripts</code></a></li><li class="tocline"><a class="tocxref" href="#el-mn"><bdi class="secno">3.4.9 </bdi><code>mn</code></a></li><li class="tocline"><a class="tocxref" href="#el-mo"><bdi class="secno">3.4.10 </bdi><code>mo</code></a></li><li class="tocline"><a class="tocxref" href="#el-mover"><bdi class="secno">3.4.11 </bdi><code>mover</code></a></li><li class="tocline"><a class="tocxref" href="#el-mpadded"><bdi class="secno">3.4.12 </bdi><code>mpadded</code></a></li><li class="tocline"><a class="tocxref" href="#el-phantom"><bdi class="secno">3.4.13 </bdi><code>mphantom</code></a></li><li class="tocline"><a class="tocxref" href="#el-mprescripts"><bdi class="secno">3.4.14 </bdi><code>mprescripts</code></a></li><li class="tocline"><a class="tocxref" href="#el-mroot"><bdi class="secno">3.4.15 </bdi><code>mroot</code></a></li><li class="tocline"><a class="tocxref" href="#el-mrow"><bdi class="secno">3.4.16 </bdi><code>mrow</code></a></li><li class="tocline"><a class="tocxref" href="#el-ms"><bdi class="secno">3.4.17 </bdi><code>ms</code></a></li><li class="tocline"><a class="tocxref" href="#el-mspace"><bdi class="secno">3.4.18 </bdi><code>mspace</code></a></li><li class="tocline"><a class="tocxref" href="#el-msqrt"><bdi class="secno">3.4.19 </bdi><code>msqrt</code></a></li><li class="tocline"><a class="tocxref" href="#el-mstyle"><bdi class="secno">3.4.20 </bdi><code>mstyle</code></a></li><li class="tocline"><a class="tocxref" href="#el-msub"><bdi class="secno">3.4.21 </bdi><code>msub</code></a></li><li class="tocline"><a class="tocxref" href="#el-msubsup"><bdi class="secno">3.4.22 </bdi><code>msubsup</code></a></li><li class="tocline"><a class="tocxref" href="#el-msup"><bdi class="secno">3.4.23 </bdi><code>msup</code></a></li><li class="tocline"><a class="tocxref" href="#el-mtable"><bdi class="secno">3.4.24 </bdi><code>mtable</code></a></li><li class="tocline"><a class="tocxref" href="#el-mtd"><bdi class="secno">3.4.25 </bdi><code>mtd</code></a></li><li class="tocline"><a class="tocxref" href="#el-mtext"><bdi class="secno">3.4.26 </bdi><code>mtext</code></a></li><li class="tocline"><a class="tocxref" href="#el-mtr"><bdi class="secno">3.4.27 </bdi><code>mtr</code></a></li><li class="tocline"><a class="tocxref" href="#el-munder"><bdi class="secno">3.4.28 </bdi><code>munder</code></a></li><li class="tocline"><a class="tocxref" href="#el-munderover"><bdi class="secno">3.4.29 </bdi><code>munderover</code></a></li><li class="tocline"><a class="tocxref" href="#el-none"><bdi class="secno">3.4.30 </bdi><code>none</code></a></li><li class="tocline"><a class="tocxref" href="#el-semantics"><bdi class="secno">3.4.31 </bdi><code>semantics</code></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">A. </bdi>Change Log</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#substantive-changes-since-the-last-public-working-draft"><bdi class="secno">A.1 </bdi>Substantive changes since the last public working draft</a></li><li class="tocline"><a class="tocxref" href="#substantive-changes-since-the-creation-of-this-specification"><bdi class="secno">A.2 </bdi>Substantive changes since the creation of this specification</a></li></ol></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">B. </bdi>Acknowledgments</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ack_group"><bdi class="secno">B.1 </bdi>Participants active in the ARIA WG at the time of publication</a></li><li class="tocline"><a class="tocxref" href="#ack_funders"><bdi class="secno">B.2 </bdi>Enabling funders</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2 </bdi>Informative references</a></li></ol></li></ol></nav>

    <section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>
      
      <p></p>
    </section>

    <section id="conformance"><div class="header-wrapper"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 2."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key word <em class="rfc2119">MUST</em> in this document
        is to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
      <p>The classification of a section as normative or non-normative applies to the entire section and all sub-sections of that section.</p>
      <p>Normative sections provide requirements that authors and user agents, and assistive technologies <em class="rfc2119">MUST</em> follow for an implementation to conform to this specification.</p>
      <p>
        Non-normative sections provide information useful to understanding the specification. Such sections may contain examples of recommended practice, but it is not required to follow such
        recommendations in order to conform to this specification.
      </p>

      <section id="deprecated"><div class="header-wrapper"><h3 id="x2-1-deprecated"><bdi class="secno">2.1 </bdi>Deprecated</h3><a class="self-link" href="#deprecated" aria-label="Permalink for Section 2.1"></a></div>
        
        <p>There are currently no deprecated requirements.</p>
      </section>
    </section>

    <section class="normative" id="mapping-mathml-to-accessibility-apis"><div class="header-wrapper"><h2 id="x3-mapping-mathml-to-accessibility-apis"><bdi class="secno">3. </bdi>Mapping MathML to Accessibility APIs</h2><a class="self-link" href="#mapping-mathml-to-accessibility-apis" aria-label="Permalink for Section 3."></a></div>
      

      <section id="mapping_general"><div class="header-wrapper"><h3 id="x3-1-general-rules-for-exposing-wai-aria-semantics"><bdi class="secno">3.1 </bdi>General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</h3><a class="self-link" href="#mapping_general" aria-label="Permalink for Section 3.1"></a></div>
        
        <p>
          User agents <em class="rfc2119">MUST</em> conform to <a href="https://www.w3.org/TR/core-aam-1.2/#mapping_general">General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</a>
          in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.2" title="Core Accessibility API Mappings 1.2">CORE-AAM-1.2</a></cite>].
        </p>
      </section>

      <section id="mapping_conflicts"><div class="header-wrapper"><h3 id="x3-2-conflicts-between-native-semantics-and-wai-aria"><bdi class="secno">3.2 </bdi>Conflicts between native semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></h3><a class="self-link" href="#mapping_conflicts" aria-label="Permalink for Section 3.2"></a></div>
        
        <p>
          User agents <em class="rfc2119">MUST</em> conform to <a href="https://www.w3.org/TR/core-aam-1.2/#mapping_conflicts">Conflicts between native markup semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></a>
          in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.2" title="Core Accessibility API Mappings 1.2">CORE-AAM-1.2</a></cite>].
        </p>
      </section>

      <section id="mapping_nodirect"><div class="header-wrapper"><h3 id="x3-3-exposing-features-that-do-not-directly-map-to-accessibility-api"><bdi class="secno">3.3 </bdi>Exposing features that do not directly map to accessibility <abbr title="application programming interface">API</abbr></h3><a class="self-link" href="#mapping_nodirect" aria-label="Permalink for Section 3.3"></a></div>
        
        <p>User agents <em class="rfc2119">MUST</em> conform to <a href="https://www.w3.org/TR/core-aam-1.2/#mapping_nodirect">Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-core-aam-1.2" title="Core Accessibility API Mappings 1.2">CORE-AAM-1.2</a></cite>].</p>
      </section>

      <section id="mathml-element-mappings"><div class="header-wrapper"><h3 id="x3-4-mathml-element-mappings"><bdi class="secno">3.4 </bdi>MathML Element Mappings</h3><a class="self-link" href="#mathml-element-mappings" aria-label="Permalink for Section 3.4"></a></div>
        
        <section id="annotation"><div class="header-wrapper"><h4 id="el-annotation"><bdi class="secno">3.4.1 </bdi><code>annotation</code></h4><a class="self-link" href="#el-annotation" aria-label="Permalink for Section 3.4.1"></a></div>
        <table aria-labelledby="el-annotation">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter5.html#mixing.elements.annotation"><code>annotation</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:annotation</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="annotation-xml"><div class="header-wrapper"><h4 id="el-annotation-xml"><bdi class="secno">3.4.2 </bdi><code>annotation-xml</code></h4><a class="self-link" href="#el-annotation-xml" aria-label="Permalink for Section 3.4.2"></a></div>
        <table aria-labelledby="el-annotation-xml">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter5.html#mixing.elements.annotation.xml"><code>annotation-xml</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:annotation-xml</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="maction"><div class="header-wrapper"><h4 id="el-maction"><bdi class="secno">3.4.3 </bdi><code>maction</code></h4><a class="self-link" href="#el-maction" aria-label="Permalink for Section 3.4.3"></a></div>
        <table aria-labelledby="el-maction">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.maction"><code>maction</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:maction</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="math"><div class="header-wrapper"><h4 id="el-math"><bdi class="secno">3.4.4 </bdi><code>math</code></h4><a class="self-link" href="#el-math" aria-label="Permalink for Section 3.4.4"></a></div>
        <table aria-labelledby="el-math">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://html.spec.whatwg.org/multipage/embedded-content-other.html#mathml"><code>math</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td><a class="core-mapping" href="https://w3c.github.io/core-aam/#role-map-math"><code>math</code></a> role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>
                <div class="general">Use <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> mapping</div>
              </td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>
                <div class="general">Use <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> mapping</div>
              </td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <div class="general">Use <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> mapping</div>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <div class="general">Use <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> mapping</div>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="merror"><div class="header-wrapper"><h4 id="el-merror"><bdi class="secno">3.4.5 </bdi><code>merror</code></h4><a class="self-link" href="#el-merror" aria-label="Permalink for Section 3.4.5"></a></div>
        <table aria-labelledby="el-merror">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.merror"><code>merror</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:merror</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathRow</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mfrac"><div class="header-wrapper"><h4 id="el-mfrac"><bdi class="secno">3.4.6 </bdi><code>mfrac</code></h4><a class="self-link" href="#el-mfrac" aria-label="Permalink for Section 3.4.6"></a></div>
        <table aria-labelledby="el-mfrac">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mfrac"><code>mfrac</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_MATH_FRACTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mfrac</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathFraction</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathFractionNumerator</code> pointing to the first in-flow child<br>
                  <code>AXMathFractionDenominator</code> pointing to the second in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mi"><div class="header-wrapper"><h4 id="el-mi"><bdi class="secno">3.4.7 </bdi><code>mi</code></h4><a class="self-link" href="#el-mi" aria-label="Permalink for Section 3.4.7"></a></div>
        <table aria-labelledby="el-mi">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mi"><code>mi</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mi</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathIdentifier</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mmultiscripts"><div class="header-wrapper"><h4 id="el-mmultiscripts"><bdi class="secno">3.4.8 </bdi><code>mmultiscripts</code></h4><a class="self-link" href="#el-mmultiscripts" aria-label="Permalink for Section 3.4.8"></a></div>
        <table aria-labelledby="el-mmultiscripts">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mmultiscripts"><code>mmultiscripts</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mmultiscripts</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathMultiscript</code></span><br>
                <div class="attrs">
                  AXAttributes:
                  <ul>
                    <li>
                      <code>AXMathPostscripts</code> is an array of dictionaries of <code>AXMathSubscript</code> and <code>AXMathSupscript</code> pointing to postsubscript and postsupscript elements ,
                      i.e. N and N + 1 in-flow children starting from the second in-flow child and preceeding
                      <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mprescripts"><code>mprescripts</code></a>
                      element if any;
                    </li>
                    <li>
                      <code>AXMathPrescripts</code> is an array of dictionaries of <code>AXMathSubscript</code> and <code>AXMathSupscript</code> pointing to presubscript and presupscript elements,
                      i.e. N and N + 1 in-flow children starting after
                      <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mprescripts"><code>mprescripts</code></a>
                      element if any or from index 1.
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mn"><div class="header-wrapper"><h4 id="el-mn"><bdi class="secno">3.4.9 </bdi><code>mn</code></h4><a class="self-link" href="#el-mn" aria-label="Permalink for Section 3.4.9"></a></div>
        <table aria-labelledby="el-mn">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mn"><code>mn</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:ms</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathNumber</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mo"><div class="header-wrapper"><h4 id="el-mo"><bdi class="secno">3.4.10 </bdi><code>mo</code></h4><a class="self-link" href="#el-mo" aria-label="Permalink for Section 3.4.10"></a></div>
        <table aria-labelledby="el-mo">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mo"><code>mo</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mo</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathOperator</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mover"><div class="header-wrapper"><h4 id="el-mover"><bdi class="secno">3.4.11 </bdi><code>mover</code></h4><a class="self-link" href="#el-mover" aria-label="Permalink for Section 3.4.11"></a></div>
        <table aria-labelledby="el-mover">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mover"><code>mover</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mover</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathUnderOver</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child <code>AXMathOver</code> pointing to the second in-flow child </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mpadded"><div class="header-wrapper"><h4 id="el-mpadded"><bdi class="secno">3.4.12 </bdi><code>mpadded</code></h4><a class="self-link" href="#el-mpadded" aria-label="Permalink for Section 3.4.12"></a></div>
        <table aria-labelledby="el-mpadded">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mpadded"><code>mpadded</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mpadded</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mphantom"><div class="header-wrapper"><h4 id="el-phantom"><bdi class="secno">3.4.13 </bdi><code>mphantom</code></h4><a class="self-link" href="#el-phantom" aria-label="Permalink for Section 3.4.13"></a></div>
        <table aria-labelledby="el-phantom">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mphantom"><code>mphantom</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mphantom</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathRow</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mprescripts"><div class="header-wrapper"><h4 id="el-mprescripts"><bdi class="secno">3.4.14 </bdi><code>mprescripts</code></h4><a class="self-link" href="#el-mprescripts" aria-label="Permalink for Section 3.4.14"></a></div>
        <table aria-labelledby="el-mprescripts">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mmultiscripts"><code>mprescripts</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mprescripts</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>Not mapped</td>
            </tr>
          </tbody>
        </table>
        </section><section id="mroot"><div class="header-wrapper"><h4 id="el-mroot"><bdi class="secno">3.4.15 </bdi><code>mroot</code></h4><a class="self-link" href="#el-mroot" aria-label="Permalink for Section 3.4.15"></a></div>
        <table aria-labelledby="el-mroot">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mroot"><code>mroot</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_MATH_ROOT</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mroot</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathRoot</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathRootRadicand</code> is an array containing the first in-flow child as its unique element,<br>
                  <code>AXMathRootIndex</code> pointing to the second in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mrow"><div class="header-wrapper"><h4 id="el-mrow"><bdi class="secno">3.4.16 </bdi><code>mrow</code></h4><a class="self-link" href="#el-mrow" aria-label="Permalink for Section 3.4.16"></a></div>
        <table aria-labelledby="el-mrow">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mrow"><code>mrow</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mrow</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathRow</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="ms"><div class="header-wrapper"><h4 id="el-ms"><bdi class="secno">3.4.17 </bdi><code>ms</code></h4><a class="self-link" href="#el-ms" aria-label="Permalink for Section 3.4.17"></a></div>
        <table aria-labelledby="el-ms">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.ms"><code>ms</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:ms</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>nil</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mspace"><div class="header-wrapper"><h4 id="el-mspace"><bdi class="secno">3.4.18 </bdi><code>mspace</code></h4><a class="self-link" href="#el-mspace" aria-label="Permalink for Section 3.4.18"></a></div>
        <table aria-labelledby="el-mspace">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mspace"><code>mspace</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>Not mapped</td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>Not mapped</td>
            </tr>
          </tbody>
        </table>
        </section><section id="msqrt"><div class="header-wrapper"><h4 id="el-msqrt"><bdi class="secno">3.4.19 </bdi><code>msqrt</code></h4><a class="self-link" href="#el-msqrt" aria-label="Permalink for Section 3.4.19"></a></div>
        <table aria-labelledby="el-msqrt">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mroot"><code>msqrt</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_MATH_ROOT</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mroot</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathSquareRoot</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathRootRadicand</code> is an array containing the in-flow children </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mstyle"><div class="header-wrapper"><h4 id="el-mstyle"><bdi class="secno">3.4.20 </bdi><code>mstyle</code></h4><a class="self-link" href="#el-mstyle" aria-label="Permalink for Section 3.4.20"></a></div>
        <table aria-labelledby="el-mstyle">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mstyle"><code>mstyle</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mstyle</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathRow</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="msub"><div class="header-wrapper"><h4 id="el-msub"><bdi class="secno">3.4.21 </bdi><code>msub</code></h4><a class="self-link" href="#el-msub" aria-label="Permalink for Section 3.4.21"></a></div>
        <table aria-labelledby="el-msub">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.msub"><code>msub</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:msub</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathSubscriptSuperscript</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child<br>
                  <code>AXMathSubscript</code> pointing to the second in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="msubsup"><div class="header-wrapper"><h4 id="el-msubsup"><bdi class="secno">3.4.22 </bdi><code>msubsup</code></h4><a class="self-link" href="#el-msubsup" aria-label="Permalink for Section 3.4.22"></a></div>
        <table aria-labelledby="el-msubsup">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.msubsup"><code>msubsup</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:msubsup</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathSubscriptSuperscript</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child <code>AXMathSubscript</code> pointing to the second in-flow child<br>
                  <code>AXMathSuperscript</code> pointing to the third in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="msup"><div class="header-wrapper"><h4 id="el-msup"><bdi class="secno">3.4.23 </bdi><code>msup</code></h4><a class="self-link" href="#el-msup" aria-label="Permalink for Section 3.4.23"></a></div>
        <table aria-labelledby="el-msup">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.msup"><code>msup</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:msup</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathSubscriptSuperscript</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child<br>
                  <code>AXMathSuperscript</code> pointing to the second in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mtable"><div class="header-wrapper"><h4 id="el-mtable"><bdi class="secno">3.4.24 </bdi><code>mtable</code></h4><a class="self-link" href="#el-mtable" aria-label="Permalink for Section 3.4.24"></a></div>
        <table aria-labelledby="el-mtable">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mtable"><code>mtable</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_TABLE</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mtable</code></span><br>
                <span class="iface">Interface(s): <code>AtkTable</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathTable</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mtd"><div class="header-wrapper"><h4 id="el-mtd"><bdi class="secno">3.4.25 </bdi><code>mtd</code></h4><a class="self-link" href="#el-mtd" aria-label="Permalink for Section 3.4.25"></a></div>
        <table aria-labelledby="el-mtd">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mtd"><code>mtd</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_TABLE_CELL</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mtd</code></span><br>
                <span class="iface">Interface(s): <code>AtkTableCell</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathTableCell</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mtext"><div class="header-wrapper"><h4 id="el-mtext"><bdi class="secno">3.4.26 </bdi><code>mtext</code></h4><a class="self-link" href="#el-mtext" aria-label="Permalink for Section 3.4.26"></a></div>
        <table aria-labelledby="el-mtext">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mtext"><code>mtext</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_STATIC</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mtext</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathText</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="mtr"><div class="header-wrapper"><h4 id="el-mtr"><bdi class="secno">3.4.27 </bdi><code>mtr</code></h4><a class="self-link" href="#el-mtr" aria-label="Permalink for Section 3.4.27"></a></div>
        <table aria-labelledby="el-mtr">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mtr"><code>mtr</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_TABLE_ROW</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:mtr</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathTableRow</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="munder"><div class="header-wrapper"><h4 id="el-munder"><bdi class="secno">3.4.28 </bdi><code>munder</code></h4><a class="self-link" href="#el-munder" aria-label="Permalink for Section 3.4.28"></a></div>
        <table aria-labelledby="el-munder">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.munder"><code>munder</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:munder</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathUnderOver</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child<br>
                  <code>AXMathUnder</code> pointing to the second in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="munderover"><div class="header-wrapper"><h4 id="el-munderover"><bdi class="secno">3.4.29 </bdi><code>munderover</code></h4><a class="self-link" href="#el-munderover" aria-label="Permalink for Section 3.4.29"></a></div>
        <table aria-labelledby="el-munderover">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.munderover"><code>munderover</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:munderover</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>AXMathUnderOver</code></span><br>
                <span class="attrs">AXAttributes: <code>AXMathBase</code> pointing to the first in-flow child<br>
                  <code>AXMathUnder</code> pointing to the second in-flow child<br>
                  <code>AXMathOver</code> pointing to the third in-flow child
                </span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="none"><div class="header-wrapper"><h4 id="el-none"><bdi class="secno">3.4.30 </bdi><code>none</code></h4><a class="self-link" href="#el-none" aria-label="Permalink for Section 3.4.30"></a></div>
        <table aria-labelledby="el-none">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.mmultiscripts"><code>none</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:none</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>TBD</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
        </section><section id="semantics"><div class="header-wrapper"><h4 id="el-semantics"><bdi class="secno">3.4.31 </bdi><code>semantics</code></h4><a class="self-link" href="#el-semantics" aria-label="Permalink for Section 3.4.31"></a></div>
        <table aria-labelledby="el-semantics">
          <tbody>
            <tr>
              <th>MathML Specification</th>
              <td>
                <a href="https://www.w3.org/TR/MathML3/chapter3.html#presm.semantics"><code>semantics</code></a>
              </td>
            </tr>
            <tr>
              <th>[<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria-1.1" title="Accessible Rich Internet Applications (WAI-ARIA) 1.1">wai-aria-1.1</a></cite>]</th>
              <td>No corresponding role</td>
            </tr>
            <tr>
              <th>MSAA + IAccessible2</th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="User Interface Automation">UIA</abbr></th>
              <td>TBD</td>
            </tr>
            <tr>
              <th><abbr title="Accessibility Toolkit">ATK</abbr></th>
              <td>
                <span class="role">Role: <code>ATK_ROLE_SECTION</code></span><br>
                <span class="objattr">Object Attribute: <code>tag:semantics</code></span>
              </td>
            </tr>
            <tr>
              <th><abbr title="macOS Accessibility Protocol">AX API</abbr></th>
              <td>
                <span class="role">AXRole: <code>NSAccessibilityGroupRole</code></span><br>
                <span class="subrole">AXSubrole: <code>TBD</code></span>
              </td>
            </tr>
          </tbody>
        </table>
      </section></section>
    </section>

    <section class="appendix" id="changelog"><div class="header-wrapper"><h2 id="a-change-log"><bdi class="secno">A. </bdi>Change Log</h2><a class="self-link" href="#changelog" aria-label="Permalink for Appendix A."></a></div>
      
      <section id="substantive-changes-since-the-last-public-working-draft"><div class="header-wrapper"><h3 id="a-1-substantive-changes-since-the-last-public-working-draft"><bdi class="secno">A.1 </bdi>Substantive changes since the last public working draft</h3><a class="self-link" href="#substantive-changes-since-the-last-public-working-draft" aria-label="Permalink for Appendix A.1"></a></div>
        
        <ul>
          
        </ul>
      </section>
      <section id="substantive-changes-since-the-creation-of-this-specification"><div class="header-wrapper"><h3 id="a-2-substantive-changes-since-the-creation-of-this-specification"><bdi class="secno">A.2 </bdi>Substantive changes since the creation of this specification</h3><a class="self-link" href="#substantive-changes-since-the-creation-of-this-specification" aria-label="Permalink for Appendix A.2"></a></div>
        
        <ul></ul>
      </section>
    </section>
    <section class="appendix informative section" id="acknowledgements"><div class="header-wrapper"><h2 id="b-acknowledgments"><bdi class="secno">B. </bdi>Acknowledgments</h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix B."></a></div><p><em>This section is non-normative.</em></p>
      
      <p>The following people contributed to the development of this document.</p>
      <section class="section" id="ack_group"><div class="header-wrapper"><h3 id="b-1-participants-active-in-the-aria-wg-at-the-time-of-publication"><bdi class="secno">B.1 </bdi>Participants active in the ARIA WG at the time of publication</h3><a class="self-link" href="#ack_group" aria-label="Permalink for Appendix B.1"></a></div>
	
	<ul>
		<li>Irfan Ali (Educational Testing Service)</li>
		<li>CB Averitt (Deque Systems, Inc)</li>
		<li>Sina Bahram (Invited Expert)</li>
		<li>Shirisha Balusani (Invited Expert)</li>
		<li>Amelia Bellamy-Royds (Invited Expert)</li>
		<li>Curt Bellew (Oracle Corporation)</li>
		<li>Alex Bernier (Association BrailleNet)</li>
		<li>Zoรซ Bijl (Invited Expert)</li>
		<li>Jorge Blazquez Alonso (IBM Corporation)</li>
		<li>Alice Boxhall (Google LLC)</li>
		<li>Matthew Brennan (Facebook)</li>
		<li>Kim Bunge (TPGi)</li>
		<li>Shari Butler (Pearson plc)</li>
		<li>Tammy Campoverde (UnitedHealth Group)</li>
		<li>David Caro (Wikimedia Foundation)</li>
		<li>Timothy Cole (University of Illinois at Urbana-Champaign)</li>
		<li>Dominic Cooney (Facebook)</li>
		<li>Michael Cooper (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
		<li>James Craig (Apple Inc.) </li>
		<li>Jory Cunningham (Salesforce)</li>
		<li>Jes Daigle (Bocoup)</li>
		<li>Joanmarie Diggs (Igalia)</li>
		<li>Jason Duan (IBM Corporation)</li>
		<li>Isaac Durazo (Bocoup)</li>
		<li>Howard Edwards (Bocoup)</li>
		<li>Steve Faulkner (TPGi) </li>
        <li>Reinaldo Ferraz (NIC.br)</li>
		<li>Alexander Flenniken (Bocoup)</li>
		<li>Bryan Garaventa (Level Access)</li>
		<li>Matt Garrish (DAISY Consortium)</li>
		<li>Jaunita George (Navy Federal Credit Union)</li>
		<li>Raghavendra Giriyappa (IBM Corporation)</li>
		<li>Michael Goddard (Bocoup)</li>
		<li>Glen Gordon (TPGi)</li>
		<li>Jon Gunderson (University of Illinois at Urbana-Champaign)</li>
		<li>Markku Hakkinen (Educational Testing Service)</li>
		<li>Sarah Higley (Microsoft Corporation)</li>
		<li>Hans Hillen (TPGi)</li>
		<li>Isabel Holdsworth (TPGi)</li>
		<li>Stanley Hon (Microsoft Corporation)</li>
		<li>Nicholas Hoyt (University of Illinois at Urbana-Champaign)</li>
		<li>Shilpi Kapoor (BarrierBreak Technologies)</li>
		<li>Matthew King (Facebook)</li>
		<li>Greta Krafsig (The Washington Post)</li>
		<li>Peter Krautzberger (Invited Expert)</li>
		<li>JaEun Jemma Ku (University of Illinois at Urbana-Champaign)</li>
		<li>Lori Lane (University of Illinois at Urbana-Champaign)</li>
		<li>Charles LaPierre (Benetech)</li>
		<li>Gez Lemon (TPGi)</li>
		<li>Aaron Leventhal (Google LLC)</li>
		<li>Brian Liu Xu (Microsoft Corporation)</li>
		<li>David MacDonald (Invited Expert)</li>
		<li>Carolyn MacLeod (IBM Corporation)</li>
		<li>Daniel Marques (WIRIS Science)</li>
		<li>Dominic Mazzoni (Google LLC)</li>
		<li>Mark McCarthy (University of Illinois at Urbana-Champaign)</li>
		<li>Jan McSorley (Pearson plc)</li>
		<li>Erika Miguel (Bocoup)</li>
		<li>Sheila Moussavi (Bocoup)</li>
		<li>Rich Noah (Bocoup)</li>
		<li>James Nurthen (Adobe) </li>
		<li>Scott O'Hara (Microsoft Corporation)</li>
		<li>Achraf Othman (MADA Center)</li>
		<li>Vijaya Gowri Perumal (Newgen Knowledgeworks)</li>
		<li>Christos Petrou (Centre for Inclusive Design)</li>
		<li>Simon Pieters (Bocoup)</li>
		<li>Ian Pouncey (TetraLogical Services Ltd)</li>
		<li>Ruoxi Ran (<abbr title="World Wide Web Consortium">W3C</abbr> Staff)</li>
		<li>Adrian Roselli (TPGi)</li>
		<li>Janina Sajka (Invited Expert, The Linux Foundation)</li>
		<li>Stefan Schnabel (SAP SE) </li>
		<li>Harris Schneiderman (Deque Systems, Inc.)</li>
		<li>Lisa Seeman-Kestenbaum (Invited Expert) </li>
		<li>Boaz Sender (Bocoup)</li>
		<li>Cynthia Shelly (Google LLC)</li>
		<li>Tzviya Siegman (Wiley)</li>
		<li>Sharon Snider (IBM Corporation)</li>
		<li>Neil Soiffer (Invited Expert)</li>
		<li>Volker Sorge (Invited Expert)</li>
		<li>Francis Storr (Intel Corporation)</li>
		<li>Melanie Sumner (Invited Expert)</li>
		<li>Alexander Surkov (Igalia)</li>
		<li>William Tennis (Navy Federal Credit Union)</li>
		<li>Seth Thompson (Bocoup)</li>
		<li>Scott Vinkle (Shopify)</li>
		<li>Can Wang (Zhejiang University)</li>
		<li>Wei Wang (Zhejiang University)</li>
		<li>Lรฉonie Watson (TetraLogical Services Ltd)</li>
		<li>Jason White (Educational Testing Service)</li>
		<li>Jan Williams (TPGi)</li>
		<li>Evan Yamanishi (W. W. Norton)</li>
		<li>Benjamin Young (Wiley)</li>
		<li>Valerie Young (Bocoup)</li>
		<li>Marco Zehe (Mozilla Foundation)</li>
	</ul>
</section>

      <section class="section" id="ack_funders"><div class="header-wrapper"><h3 id="b-2-enabling-funders"><bdi class="secno">B.2 </bdi>Enabling funders</h3><a class="self-link" href="#ack_funders" aria-label="Permalink for Appendix B.2"></a></div>
	
	<p>This publication has been funded in part with U.S. Federal funds from the Department of Education, National Institute on Disability, Independent Living, and Rehabilitation Research (NIDILRR), initially under contract number ED-OSE-10-C-0067, then under contract number HHSP23301500054C, and now under HHS75P00120P00168. The content of this publication does not necessarily reflect the views or policies of the U.S. Department of Education, nor does mention of trade names, commercial products, or organizations imply endorsement by the U.S. Government.</p>
</section>

    </section>
  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="c-references"><bdi class="secno">C. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix C."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix C.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-core-aam-1.2">[CORE-AAM-1.2]</dt><dd>
      <a href="https://www.w3.org/TR/core-aam-1.2/"><cite>Core Accessibility API Mappings 1.2</cite></a>. Valerie Young; Alexander Surkov; Michael Cooper.  W3C. 2 November 2023. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/core-aam-1.2/">https://www.w3.org/TR/core-aam-1.2/</a>
    </dd><dt id="bib-html">[html]</dt><dd>
      <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jรคgenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    </dd><dt id="bib-mathml3">[MathML3]</dt><dd>
      <a href="https://www.w3.org/TR/MathML3/"><cite>Mathematical Markup Language (MathML) Version 3.0 2nd Edition</cite></a>. David Carlisle; Patrick D F Ion; Robert R Miner.  W3C. 10 April 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/MathML3/">https://www.w3.org/TR/MathML3/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-wai-aria-1.1">[wai-aria-1.1]</dt><dd>
      <a href="https://www.w3.org/TR/wai-aria-1.1/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.1</cite></a>. Joanmarie Diggs; Shane McCarron; Michael Cooper; Richard Schwerdtfeger; James Craig.  W3C. 14 December 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wai-aria-1.1/">https://www.w3.org/TR/wai-aria-1.1/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix C.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-dom">[dom]</dt><dd>
      <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
    </dd><dt id="bib-infra">[infra]</dt><dd>
      <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    </dd><dt id="bib-mathml-core">[MathML-Core]</dt><dd>
      <a href="https://mathml-refresh.github.io/mathml-core/"><cite>MathML Core</cite></a>. David Carlisle; Frรฉdรฉric Wang. URL: <a href="https://mathml-refresh.github.io/mathml-core/">https://mathml-refresh.github.io/mathml-core/</a>
    </dd><dt id="bib-wai-aria">[wai-aria]</dt><dd>
      <a href="https://www.w3.org/TR/wai-aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.0</cite></a>. James Craig; Michael Cooper et al.  W3C. 20 March 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wai-aria/">https://www.w3.org/TR/wai-aria/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">โ</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>